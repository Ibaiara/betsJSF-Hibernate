<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

<f:view>
	<h:head>
		<title>Query Questions</title>
	</h:head>
	<h:body>
	   <h:form id="form">
				<h3>Query Questions</h3>
				   <table>
				    <tr>
						<td><p:calendar id="fecha" value="#{query.fecha}" navigator="false"
								mode="inline">
								<p:ajax event="dateSelect" listener="#{query.onDateSelect}"
									update="tabla1"></p:ajax>
							</p:calendar></td>
						<td><p:dataTable id="tabla1" value="#{query.eventos}"
								var="item" selectionMode="single" selection="#{query.evento}"
								border="1" rowKey="#{item.description}">
								<f:facet name="header">Events:</f:facet>
								<p:column headerText="Event#">#{item.eventNumber}</p:column>
								<p:column headerText="Event">#{item.description}</p:column>
								<p:ajax event="rowSelect" listener="#{query.onSelect}" update=":form:tabla2"></p:ajax>
							</p:dataTable></td> 
					 </tr>
					</table>
						<p:dataTable id="tabla2" value="#{query.questions}"
								var="item" selectionMode="single" selection="#{query.question}"
								border="1" rowKey="#{item.question}">
								<f:facet name="header">Question:</f:facet>
								<p:column headerText="Question#">#{item.questionNumber}</p:column>
								<p:column headerText="Question">#{item.question}</p:column>
						</p:dataTable>
				  
				 	
		</h:form>
				 	
	</h:body>
</f:view>
</html>